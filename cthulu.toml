[server]
port = 8081
sentry_dsn_env = "SENTRY_DSN"
environment = "local"

[github]
token_env = "GITHUB_TOKEN"

[[tasks]]
name = "pr-review"
executor = "claude-code"
prompt = "prompts/pr_review.md"
permissions = ["Bash", "Read", "Grep", "Glob"]

[tasks.trigger.github]
event = "pull_request"
repos = [
  { slug = "bitcoin-portal/RustServer", path = "/Users/andrei/Developer/RustServer" },
  { slug = "bitcoin-portal/OrangeRockIOS", path = "/Users/andrei/Developer/orangerock/OrangeRockIOS" },
  { slug = "bitcoin-portal/RustMultiplatformCore", path = "/Users/andrei/Developer/orangerock/RustMultiplatformCore" },
  { slug = "saltyskip/cthulu", path = "/Users/andrei/Developer/orangerock/cthulu" },
]
poll_interval = 60
skip_drafts = true        # Don't review draft PRs (default: true)
review_on_push = true     # Re-review when new commits are pushed

[[tasks]]
name = "orangerock-market-brief"
executor = "claude-code"
prompt = "prompts/orangerock_brief.md"
permissions = []

[tasks.trigger.cron]
schedule = "0 */4 * * *"

[[tasks.sources]]
type = "rss"
url = "https://thedefiant.io/feed"
limit = 10

[[tasks.sources]]
type = "rss"
url = "https://blockworks.co/feed"
limit = 10

[[tasks.sources]]
type = "rss"
url = "https://www.dlnews.com/arc/outboundfeeds/rss/"
limit = 10

[[tasks.sources]]
type = "rss"
url = "https://www.theblock.co/rss.xml"
limit = 10

[[tasks.sources]]
type = "rss"
url = "https://unchainedcrypto.com/feed/"
limit = 10

[tasks.sink]
type = "slack"
webhook_url_env = "SLACK_WEBHOOK_URL"
